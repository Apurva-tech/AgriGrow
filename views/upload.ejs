<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat</title>

    <!-- libraries -->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="/assets/images/favicon.svg"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script src="/socket.io/socket.io.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://kit.fontawesome.com/c939d0e917.js"></script>

    <!-- scripts -->
    <script src="/js/firebaselogin.js"></script>
    <script src="/js/logout.js"></script>
    <!-- <script src="/js/chat.js" defer></script> -->

    <!-- css -->
    <link rel="stylesheet" href="/styles/chatroom.css" />
  </head>
  <body>
    <div class="dark-light">
      <svg
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="1.5"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
      </svg>
    </div>
    <div class="back-button" onclick="window.location.href='/home'">
      <img
        src="https://img.icons8.com/ios-glyphs/90/ffffff/circled-left.png"
        style="width: 40px; height: 40px"
      />
    </div>
    <div class="app">
      <section id="upload">
        <div class="file-upload">
          <button
            class="file-upload-btn"
            type="button"
            onclick="$('.file-upload-input').trigger( 'click' )"
          >
            Add Image
          </button>

          <div class="image-upload-wrap">
            <input
              class="file-upload-input"
              type="file"
              onchange="readURL(this);"
              accept="image/*"
            />
            <div class="drag-text">
              <h3>Drag and drop a file or select add Image</h3>
            </div>
          </div>
          <div class="file-upload-content">
            <img class="file-upload-image" src="#" alt="your image" />
            <div class="image-title-wrap">
              <button
                type="button"
                onclick="removeUpload()"
                class="remove-image"
              >
                Remove <span class="image-title">Uploaded Image</span>
              </button>
            </div>
          </div>
        </div>
      </section>
      <section id="result">
        <div
          class="
            container
            result-display
            shadow-sm
            d-flex
            justify-content-center
            align-items-center
          "
        >
          <div class="container text-center pending-result">
            <h4 class="text-center">Results will be displayed here</h4>
          </div>
          <div class="container hidden final-result">
            <h4 class="text-center">Result Successfully computed.</h4>
            <h5 class="text-center">Detected disease: Black Spot.</h5>
          </div>
        </div>
      </section>
      <section id="remedies">
        <div
          class="
            container
            result-display
            shadow-sm
            d-flex
            justify-content-center
            align-items-center
          "
        >
          <div class="container text-center pending-result">
            <h4 class="text-center">Remedies will be displayed here</h4>
          </div>
          <div class="container hidden final-result">
            <h4 class="text-center">Suggested Remedies .</h4>
            <h5 class="text-center">
              Apply a dormant spray over winter to smother overwintering fungal
              spores.
            </h5>
          </div>
        </div>
      </section>
    </div>
  </body>
  <script>
    // To toggle between dark and light theme
    const toggleButton = document.querySelector(".dark-light");

    toggleButton.addEventListener("click", () => {
      document.body.classList.toggle("light-mode");
    });

    function readURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
          $(".image-upload-wrap").hide();

          $(".file-upload-image").attr("src", e.target.result);
          $(".file-upload-content").show();

          $(".image-title").html(input.files[0].name);
        };

        reader.readAsDataURL(input.files[0]);
        $(".result-display").removeClass("border-light");
        $(".result-display").addClass("border-success");
        $(".pending-result").addClass("hidden");
        $(".final-result").removeClass("hidden");
      } else {
        removeUpload();
      }
    }

    function removeUpload() {
      $(".file-upload-input").replaceWith($(".file-upload-input").clone());
      $(".file-upload-content").hide();
      $(".image-upload-wrap").show();
    }
    $(".image-upload-wrap").bind("dragover", function () {
      $(".image-upload-wrap").addClass("image-dropping");
    });
    $(".image-upload-wrap").bind("dragleave", function () {
      $(".image-upload-wrap").removeClass("image-dropping");
    });
  </script>
</html>
